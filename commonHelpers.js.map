{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport closeIcon from './img/bi_x-octagon.png';\n\nimport axios from 'axios';\n\nconst form = document.querySelector('form');\n\nconst list = document.querySelector('.gallery');\nconst searchInput = document.querySelector('.form-input');\n\nform.addEventListener('submit', onSearchButton);\n// refs.formElem.addEventListener('submit', onSearchButton);\n\nlet query = '';\nlet currentPage = 1;\nlet totalResults = 0;\nconst PAGE_SIZE = 15;\n\n// const inputSearch = form.elements.search.value;\n\n\n\n\n\n// ----Event Searching photos----\n\n\nasync function onSearchButton(e) {\n  e.preventDefault();\n  query = e.target.elements.search.value.trim();\n\n  \n  \n  currentPage = 1;\n  list.innerHTML = '';\n  const data = await getPhotos();\n\n  console.log(data);\n  \n}\n\n\n// ----FORMER Promise function----\n\nasync function getPhotos() {\n  \n  const searchParams = new URLSearchParams({\n    key: '42306918-f68a47ae9b20261d6e2f05069',\n    q: `${query}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    page: currentPage,\n    per_page: PAGE_SIZE,\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n\n\n\n// ----When photos are not found----\nfunction noImages() {\n  iziToast.error({\n    messageColor: '#FFF',\n    color: '#EF4040',\n    iconUrl: closeIcon,\n    position: 'topRight',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\n// ----Markup HTML----\nfunction renderPhoto(photos) {\n  const markup = photos\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class='gallery-item'>\n  <a class='gallery-link' href='${largeImageURL}'>\n    <img class='gallery-image' src='${webformatURL}' alt='${tags}'/>\n  </a>\n<div class='container-app'>\n<p><span>Likes</span> ${likes}</p>\n<p><span>Views</span> ${views}</p>\n<p><span>Comments</span> ${comments}</p>\n<p><span>Downloads</span> ${downloads}</p>\n</div>\n </li>`\n    )\n    .join('');\n  list.innerHTML = markup;\n}\n\n// ----library simpleLightbox----\nfunction simpleLightbox() {\n  let gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionsPosition: 'bottom',\n    captionDelay: 250,\n  });\n  gallery.on('show.simpleLightbox');\n  gallery.refresh();\n}\n\n\nfunction showLoader() {\n  refs.loaderElem.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  refs.loaderElem.classList.add('hidden');\n}"],"names":["form","list","onSearchButton","query","currentPage","PAGE_SIZE","e","data","getPhotos","url","axios"],"mappings":"svBAWA,MAAMA,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAO,SAAS,cAAc,UAAU,EAC1B,SAAS,cAAc,aAAa,EAExDD,EAAK,iBAAiB,SAAUE,CAAc,EAG9C,IAAIC,EAAQ,GACRC,EAAc,EAElB,MAAMC,EAAY,GAWlB,eAAeH,EAAeI,EAAG,CAC/BA,EAAE,eAAc,EAChBH,EAAQG,EAAE,OAAO,SAAS,OAAO,MAAM,OAIvCF,EAAc,EACdH,EAAK,UAAY,GACjB,MAAMM,EAAO,MAAMC,IAEnB,QAAQ,IAAID,CAAI,CAElB,CAKA,eAAeC,GAAY,CAYzB,MAAMC,EAAM,4BAVS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGN,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAUC,CACd,CAAG,CAEmD,GAGpD,OADY,MAAMK,EAAM,IAAID,CAAG,GACpB,IACb"}